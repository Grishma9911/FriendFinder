<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey - Node & express</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>
    <div class="container">

        <h2>Survey Questions</h2>
        <hr>
        <h3><strong>About You</strong></h3>
        <br>
        <h5>Name(Required)</h5>
        <input type="text" id="name" class="form-control" required="">
        <h5>Link to Photo Image(Required)</h5>
        <input type="text" id="link" class="form-control" required="">
        <br>
        <b>
            <hr></b>
        <!-- // Question and Dropdown Button: -->
        <h3><strong>Question1</strong></h3>
        <h5>Your mind is always buzzing with unexplored ideas and plans.</h5>
        <select class="ui-dropdown" id="q1">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question2</strong></h3>
        <h5>Generally speaking, you rely more on your experience than your imagination.</h5>
        <select class="ui-dropdown" id="q2">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question3</strong></h3>
        <h5>You find it easy to stay relaxed and focused even when there is some pressure.</h5>
        <select class="ui-dropdown" id="q3">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question4</strong></h3>
        <h5>You rarely do something just out of sheer curiosity.</h5>
        <select class="ui-dropdown" id="q4">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question5</strong></h3>
        <h5>People can rarely upset you.</h5>
        <select class="ui-dropdown" id="q5">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question6</strong></h3>
        <h5>It is often difficult for you to relate to other people’s feelings.</h5>
        <select class="ui-dropdown" id="q6">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question7</strong></h3>
        <h5>In a discussion, truth should be more important than people’s sensitivities.</h5>
        <select class="ui-dropdown" id="q7">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question8</strong></h3>
        <h5>You rarely get carried away by fantasies and ideas.</h5>
        <select class="ui-dropdown" id="q8">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question9</strong></h3>
        <h5>You think that everyone’s views should be respected regardless of whether they are supported by facts or
            not.</h5>
        <select class="ui-dropdown" id="q9">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>

        <h3><strong>Question10</strong></h3>
        <h5>You feel more energetic after spending time with a group of people.</h5>
        <select class="ui-dropdown" id="q10">
            <option value="">Select an option</option>
            <option value="1" id="value1">1(Strongly Disagree)</option>
            <option value="2" id="value2">2</option>
            <option value="3" id="value3">3</option>
            <option value="4" id="value4">4</option>
            <option value="5" id="value5">5(Strongly Agree)</option>
        </select><br>
        <br>
        <!-- // Submit button: -->
        <button class="btn btn-lg btn-primary" id="submit"><span class="fa fa-list-alt"></span> Submit</button>
        <hr>
    </div>
    <div class="container">
        <a href="/data/friends">API Friends List</a> | <a href="https://github.com/Grishma9911/FriendFinder">GitHub
            Repo</a>
    </div>

    <!-- // style css: -->
    <style>
        .container {
            background-color: rgba(168, 168, 168, 0.24);
            padding: 15px;
            font-family: 'Times New Roman', Times, serif;
        }

        .ui-dropdown {
            border-radius: 5px;
            height: 30px;
            ;
        }
    </style>

    <!-- // JavaScript Functionality: -->
    <script type="text/javascript">
        // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
        // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
        // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
        // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

        $("#submit").on("click", function (event) {

            console.log("Got It!!!")
            event.preventDefault();
            var answers =
            {
                name: $("#name").val() || "N/A",
                photo: $("#link").val() || "N/A",
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()]
            }
            console.log(answers);


            $.post("/data/friends", answers, function (data) {

                // If a table is available... tell user they are booked.
                if (data) {
                    //alert("Your best match is:" + nameArrey);
                    alert("Your best match is:" + data.name);
                }

                // If a table is available... tell user they on the waiting list.
                else {
                    alert("Sorry you are on the wait list");
                }
            });
        });
    </script>
</body>

</html>